<!--
 * @Author: xing paradisehit@gmil.com
 * @Date: 2022-11-26 15:44:34
 * @LastEditors: xing paradisehit@gmail.com
 * @LastEditTime: 2022-12-31 12:16:09
 * @FilePath: /web/index.html
 * @Description:生成图片
-->
<!doctype html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1 user-scalable=no">
    <meta http-equiv="Access-Control-Allow-Origin" content="*" />
    <title>Prompts Database</title>
    <link href="bootstrap/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.0/font/bootstrap-icons.css">
    <link href="css/sd.css" rel="stylesheet">
    <style>
    </style>
</head>

<body>
    <div class="photo-gallery">
        <div class="container" id="main_container">
            <div class="intro">
                <h2 class="text-center">Prompts Database</h2>
            </div>
            <div class="row g-3 align-items-center">
                <div class="col-sm-6 col-center-block mb-3">
                    <input type="text" class="form-control " id="search_words" aria-describedby="Search"
                        placeholder="Search AI images">
                </div>
            </div>
            <div class="row g-3 align-items-center">

                <div class="col-sm-6 col-center-block mb-3">
                    <input name="" id="search_btn" class="btn btn-primary col-center-block" type="button"
                        value="Search">
                </div>
            </div>

            <div id="queue_div">
            </div>
            <div id="row_div" class="row photos">
            </div>
        </div>
        <!-- 模态框（Modal） -->
        <div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel"
            aria-hidden="true">
            <div class="modal-dialog modal-xl">
                <div class="modal-content  modal_dark">
                    <div class="container-fluid">
                        <div class="row">
                            <!-- <div class="modal-header modal_dark">
                                <button type="button" class="btn btn-primary" id="modal-close"
                                    data-dismiss="modal">&times;
                                </button>
                            </div> -->
                            <div class="row mb-5">

                            </div>
                            <div class="row">
                                <div class="col-md-6">
                                    <div class="row prompt_bg mb-3">
                                        <div id="modal-prompt">
                                            prompt
                                        </div>

                                        <div class="row">
                                            <div class="modal_text">
                                                <div class="btn btn-secondary" id="modal_copy">
                                                    <span class="bi bi-clipboard2"></span>
                                                    copy prompt
                                                </div>
                                            </div>
                                        </div>

                                    </div>
                                    <div class="row ml-3">
                                        <div class="col">
                                            <div class="btn btn-secondary col-sm-12" id="modal-editor"><span
                                                    class="bi bi-pencil-square"></span>Open in editor</div>
                                        </div>
                                    </div>
                                    <div class="row" id="modal-parameters">
                                        <div class="row mb-1">
                                            <div class="row modal-div-block-title">
                                                seed
                                            </div>
                                            <div class="row modal-div-block-text">
                                                12312313
                                            </div>
                                        </div>
                                        <div class="row mb-1">
                                            <div class="row modal-div-block-title">
                                                Guidance scale
                                            </div>
                                            <div class="row modal-div-block-text">
                                                7
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <div class="col-md-6">
                                    <div class="row">
                                        <div class="modal-image">
                                            modal-image
                                        </div>

                                    </div>
                                </div>
                            </div>
                            <div class="row">
                                <div class="row modal_text">
                                    <div class="btn btn-secondary col-sm-4  mx-auto" id="modal-close">
                                        <span class="bi bi-x-circle"></span>
                                        Close
                                    </div>
                                </div>
                            </div>
                            <!-- </div>
                        <div class="row">
                            <div class="modal-footer">
                            </div>
                        </div> -->
                        </div>
                    </div><!-- /.modal-content -->
                </div><!-- /.modal -->
            </div>
        </div>
</body>

<script src="jquery/jquery-3.6.1.min.js"></script>
<script src="bootstrap/js/bootstrap.min.js"></script>
<script type="text/javascript" src="js/sd.js"></script>
<script type="text/javascript">

    $(document).ready(function () {
        image_details = []
        start_page_num = 1
        for (page_num = start_page_num; page_num < start_page_num + 3; page_num++) {
            return_num = LoadOnePageImages(page_num)
            console.log("return_num=" + return_num)
            console.log("page_num=" + page_num)
            if (return_num == undefined || return_num < PAGE_SIZE) {
                break
            }
        }
    })
    $(window).scroll(function () {
        var scrollTop = $(this).scrollTop(); //滚动条距离顶部的高度
        var scrollHeight = $(document).height(); //当前页面的总高度
        var clientHeight = $(this).height(); //当前可视的页面高度
        if (scrollTop + clientHeight >= scrollHeight - 30) {
            if (is_search) {
                Search(search_words, page_num)
            } else {
                LoadOnePageImages(page_num)
            }
            page_num++
        }
    })
</script>



</html>